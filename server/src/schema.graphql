# import Video, Topic, Tag, Complexity, TopicCreateManyInput, TagCreateManyInput from "./generated/prisma.graphql"

type Query {
  videos(skip: Int, first: Int): [Video!]!
  video(id: ID!): Video!
  users: [User!]!
  user(login: String!): User
  currentUser: User
  topics: [Topic!]!
  tags: [Tag!]!
}

type Mutation {
  signup(
    email: String!,
    password: String!,
    login: String!,
    name: String!
  ): Payload!

  activate(activationCode: String!): Payload!

  sendResetPasswordEmail(login: String!): Payload!

  resetPassword(
    passwordResetCode: String!,
    password: String!
  ): Payload!

  signin(
    login: String!,
    password: String!
  ): AuthPayload!

  editProfile(
    name: String,
    login: String
  ): User!

  addVideo(
    ytId: String!
    complexity: Complexity!
    topics: TopicCreateManyInput
    tags: TagCreateManyInput
  ): Video!

  bookmarkVideo(
    id: ID!,
    adding: Boolean!
  ): Video!
}

type Payload {
  message: String!
}

type AuthPayload {
  token: String!
  currentUser: User!
}

type User {
  id: ID!
  isActivated: Boolean!
  email: String!
  name: String!
  login: String
  myVideos: [Video!]!
  bookmarkedVideos: [Video!]!
}
